<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listening Practice</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-5">
    <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md">
        <h1 class="text-2xl font-bold text-center mb-4">Listening Gap-Filling Exercise: Emmaâ€™s First Flight</h1>
        <p class="text-gray-700 mb-4">ðŸŽ§ <strong>Instructions:</strong> Listen carefully to the story about Emmaâ€™s trip to Paris. While listening, fill in the blanks with the missing words.</p>
        <audio id="audio" controls class="w-full mb-4">
            <source src="./Emma_s_First_Flight_Emma_was_very_excited.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <div class="space-y-4">
            <p>Emma was very excited. Today was a special dayâ€”she was flying to (1) <input type="text" id="answer1" class="border p-1 rounded"> for the first time!</p>
            <p>She arrived at the airport (2) <input type="text" id="answer2" class="border p-1 rounded"> in the morning.</p>
            <p>The airport was busy, with people walking in different directions. She quickly found the (3) <input type="text" id="answer3" class="border p-1 rounded"> desk.</p>
            <p>"Good morning! May I see your (4) <input type="text" id="answer4" class="border p-1 rounded"> and ticket, please?" the airline staff asked.</p>
            <p>Emma handed them over. "Do you have any (5) <input type="text" id="answer5" class="border p-1 rounded"> to check in?"</p>
            <p>"Yes, just one suitcase," she replied. The staff checked her bag and gave her a (6) <input type="text" id="answer6" class="border p-1 rounded"> pass.</p>
            <p>"Your flight is at (7) <input type="text" id="answer7" class="border p-1 rounded"> 14. Boarding starts at 10:30 AM."</p>
            <p>Emma walked towards the (8) <input type="text" id="answer8" class="border p-1 rounded"> check, where she placed her bag on the (9) <input type="text" id="answer9" class="border p-1 rounded"> belt and walked through the scanner.</p>
            <p>The security officer checked her bag. "Do you have any (10) <input type="text" id="answer10" class="border p-1 rounded"> or sharp objects?"</p>
            <p>"No, I donâ€™t," Emma said. The officer nodded, and she moved to (11) <input type="text" id="answer11" class="border p-1 rounded"> control, where an officer checked her passport and asked about her trip.</p>
            <p>Finally, Emma arrived at (12) <input type="text" id="answer12" class="border p-1 rounded"> 14 and waited for her flight.</p>
            <p>When the announcement came, she showed her (13) <input type="text" id="answer13" class="border p-1 rounded"> pass and walked onto the plane.</p>
            <p>She found her seat, fastened her (14) <input type="text" id="answer14" class="border p-1 rounded">, and smiled. Her journey was about to begin!</p>
        </div>
        <button id="check-answers" class="hidden mt-4 w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-700">Check Answers</button>
        <div id="result" class="hidden mt-4 p-4 bg-gray-200 rounded"></div>
    </div>
    <script>
        const audio = document.getElementById("audio");
        const checkButton = document.getElementById("check-answers");
        const resultDiv = document.getElementById("result");
        
        const revealTime = 10;
        
        audio.addEventListener("timeupdate", () => {
            if (audio.currentTime >= revealTime) {
                checkButton.classList.remove("hidden");
                audio.removeEventListener("timeupdate", arguments.callee);
            }
        });
        
        function checkAnswers() {
            const correctAnswers = ["Paris", "early", "check-in", "passport", "baggage", "boarding", "Gate", "security", "conveyor", "liquids", "passport", "Gate", "boarding", "seatbelt"];
            let correctCount = 0;
            let output = "";

            for (let i = 0; i < correctAnswers.length; i++) {
                let userAnswer = document.getElementById(`answer${i + 1}`).value.trim().toLowerCase();
                if (userAnswer === correctAnswers[i].toLowerCase()) {
                    output += `<p class='text-green-600'>${i + 1}. Correct!</p>`;
                    correctCount++;
                } else {
                    output += `<p class='text-red-600'>${i + 1}. Incorrect! Correct answer: ${correctAnswers[i]}</p>`;
                }
            }
            output += `<p class='font-bold mt-2'>You got ${correctCount} out of ${correctAnswers.length} correct.</p>`;
            resultDiv.innerHTML = output;
            resultDiv.classList.remove("hidden");
        }
        checkButton.addEventListener("click", checkAnswers);
    </script>
</body>
</html>
